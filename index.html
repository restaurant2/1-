# Create a polished, multi-language restaurant site (Bull & Last style) with a language chooser shown first.
# Default selection is Hebrew; choice is saved. Includes a hero header, translatable navbar, drinks menu, and cart.
import os, zipfile, textwrap, base64

# Use the provided logo as the restaurant image
with open("/mnt/data/9f689686-5c7d-4dfb-9997-fe80284482ba.png", "rb") as f:
    logo_b64 = base64.b64encode(f.read()).decode("ascii")

html = f"""<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>חומוס גרגירים — אתר רשמי</title>
<meta name="theme-color" content="#214A47">
<style>
  :root {{
    --green:#214A47; --cream:#f5f1eb; --gold:#D4AF37; --text:#111; --white:#fff;
    --dark:#0c0c0c; --muted:#7c8b88; --ring:rgba(212,175,55,.45);
  }}
  * {{ box-sizing: border-box; }}
  html,body {{ margin:0; padding:0; font-family: 'Cairo', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }}
  body {{ background: var(--cream); color: var(--text); }}
  a {{ color: inherit; text-decoration: none; }}
  .container {{ max-width: 1200px; margin: 0 auto; padding: 0 18px; }}

  /* Top bar */
  .topbar {{ background: var(--green); color: var(--white); position: sticky; top:0; z-index:50; }}
  .nav {{ display:flex; align-items:center; justify-content:space-between; padding: 14px 10px; }}
  .brand {{ font-size: 28px; letter-spacing:1px; font-weight:800; }}
  .brand span {{ display:block; font-size:14px; color: rgba(255,255,255,.85); font-weight:500; }}
  .menu {{ display:flex; gap:18px; align-items:center; flex-wrap:wrap; }}
  .menu a {{ opacity:.95 }}
  .menu a.active {{ border-bottom:2px solid var(--gold); padding-bottom:2px; }}
  .actions {{ display:flex; gap:10px; align-items:center; }}
  .btn-gold {{ background: linear-gradient(135deg,var(--gold),#e6c663); color:#000; border:none; border-radius:999px; padding:8px 16px; font-weight:700; cursor:pointer; }}
  .btn-outline {{ background:transparent; border:1px solid rgba(255,255,255,.6); color:#fff; border-radius:999px; padding:6px 12px; cursor:pointer; }}

  /* Hero */
  .hero-wrap {{ background: var(--green); color:#fff; }}
  .hero {{ position:relative; padding: 26px 0 40px; }}
  .hero-image {{ width:100%; aspect-ratio: 16/7; background:
      linear-gradient(180deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.45) 100%),
      url('data:image/png;base64,{logo_b64}') center/contain no-repeat,
      #1f4946; border: 10px solid var(--green); }}
  .hero-title {{ position:absolute; inset:0; display:grid; place-items:center; pointer-events:none; font-weight:800;
                 text-shadow:0 6px 22px rgba(0,0,0,.35); }}
  .hero-title h1 {{ font-size: clamp(28px,4.8vw,44px); margin:0; }}
  .hero-title small {{ opacity:.9 }}

  /* Sections */
  .section {{ padding: 36px 0; }}
  .section h2 {{ margin:0 0 12px; color: var(--green); letter-spacing:.6px; }}
  .grid {{ display:grid; gap:16px; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); }}
  .card {{ background:#fff; border:1px solid #e3dfd8; border-radius:18px; padding:16px; box-shadow: 0 10px 24px rgba(0,0,0,.06); }}
  .price {{ color:#b66b00; font-weight:800; }}
  .add {{ margin-top:8px }}
  .tiny {{ font-size:12px; color:#666 }}
  footer {{ text-align:center; padding:28px 0; color:#666; border-top:1px dashed #ddd; }}

  /* Language chooser (first screen) */
  .lang-overlay {{ position:fixed; inset:0; background: rgba(0,0,0,.55); display:flex; align-items:center; justify-content:center; z-index:999; }}
  .lang-card {{ width:min(720px,92vw); background:#0b0b0b; color:#fff; border:1px solid var(--ring); border-radius:22px; padding:20px;
                box-shadow:0 20px 60px rgba(0,0,0,.45); text-align:center; }}
  .lang-card img {{ width:110px; border-radius:14px; filter: drop-shadow(0 6px 16px rgba(212,175,55,.25)); }}
  .lang-buttons {{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:12px; }}
  .lang-btn {{ background: linear-gradient(135deg,var(--gold),#e67e22); border:none; color:#0b0b0b; padding:10px 16px; border-radius:999px; font-weight:800; cursor:pointer; }}
  .lang-note {{ opacity:.85; margin-top:8px; font-size:13px; }}
  .hide {{ display:none !important; }}

  /* Cart */
  .cart-panel {{ position:fixed; right:16px; bottom:16px; width:min(92vw,420px); background:#0f0f0f; color:#fff;
                 border:1px solid var(--ring); border-radius:18px; padding:14px; display:none; z-index:60; }}
  .cart-row {{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 0; border-bottom:1px dashed rgba(255,255,255,.16); }}
  .qty {{ display:flex; align-items:center; gap:8px; }}
  .qty button {{ background:#1d1d1d; border:1px solid rgba(255,255,255,.26); color:#fff; width:30px; height:30px; border-radius:999px; cursor:pointer; }}
</style>
</head>
<body>

<!-- Language chooser (shown on first visit) -->
<div id="langOverlay" class="lang-overlay">
  <div class="lang-card">
    <img src="data:image/png;base64,{logo_b64}" alt="logo" />
    <h3 style="margin:10px 0 2px; color:var(--gold);">חומוס גרגירים</h3>
    <div id="langTitle" class="tiny">בחר שפה / اختر لغة / Choose Language / Выберите язык</div>
    <div class="lang-buttons">
      <button class="lang-btn" onclick="setLang('he')">🇮🇱 עברית</button>
      <button class="lang-btn" onclick="setLang('ar')">🇸🇦 العربية</button>
      <button class="lang-btn" onclick="setLang('en')">🇬🇧 English</button>
      <button class="lang-btn" onclick="setLang('ru')">🇷🇺 Русский</button>
    </div>
    <div class="lang-note">اللغة الافتراضية: עברית</div>
  </div>
</div>

<!-- Top navigation -->
<div class="topbar">
  <div class="nav container">
    <div class="brand">חומוס גרגירים<span id="brandSmall">Fine Hummus</span></div>
    <nav class="menu" id="menuNav">
      <a href="#" class="active" data-key="home">בית</a>
      <a href="#menus" data-key="menus">תפריטים</a>
      <a href="#shop" data-key="shop">חנות</a>
      <a href="#events" data-key="events">אירועים</a>
      <a href="#contact" data-key="contact">צור קשר</a>
    </nav>
    <div class="actions">
      <button class="btn-outline" id="cartBtn">🛒 <span id="navCart">עגלה (0)</span></button>
      <button class="btn-gold" id="reserveBtn" data-key="reserve">הזמנות</button>
      <button class="btn-outline" onclick="openLang()">🌐</button>
    </div>
  </div>
</div>

<!-- Hero -->
<div class="hero-wrap">
  <div class="hero container">
    <div class="hero-image"></div>
    <div class="hero-title">
      <div>
        <h1 id="heroTitle">MENUS</h1>
        <small id="heroSubtitle">A royal culinary experience</small>
      </div>
    </div>
  </div>
</div>

<!-- Content -->
<section class="section container" id="menus">
  <h2 id="drinksTitle">שתייה</h2>
  <div class="grid" id="drinks"></div>
</section>

<!-- Cart panel -->
<div id="cartPanel" class="cart-panel"></div>

<footer>© 2025 חומוס גרגירים — All rights reserved.</footer>

<script>
// ===== Translations =====
const T = {{
  he: {{home:'בית', menus:'תפריטים', shop:'חנות', events:'אירועים', contact:'צור קשר', reserve:'הזמנות',
        brandSmall:'חוויה קולינרית', heroTitle:'תפריטים', heroSubtitle:'חוויה מלכותית',
        drinks:'שתייה', add:'הוסף לעגלה', cart:'עגלה', total:'סה״כ', checkout:'תשלום בקופה', currency:'₪'}},
  ar: {{home:'الرئيسية', menus:'المنيو', shop:'المتجر', events:'الفعاليات', contact:'تواصل', reserve:'الحجوزات',
        brandSmall:'تجربة ذواقة', heroTitle:'القوائم', heroSubtitle:'تجربة ملكية',
        drinks:'المشروبات', add:'أضف إلى السلة', cart:'السلة', total:'الإجمالي', checkout:'الدفع عند الكاشير', currency:'₪'}},
  en: {{home:'Home', menus:'Menus', shop:'Shop', events:'Events', contact:'Contact', reserve:'Reservations',
        brandSmall:'Culinary Experience', heroTitle:'MENUS', heroSubtitle:'A royal culinary experience',
        drinks:'Drinks', add:'Add to Cart', cart:'Cart', total:'Total', checkout:'Pay at cashier', currency:'₪'}},
  ru: {{home:'Главная', menus:'Меню', shop:'Магазин', events:'События', contact:'Контакты', reserve:'Бронирование',
        brandSmall:'Гастрономический опыт', heroTitle:'МЕНЮ', heroSubtitle:'Королевский опыт',
        drinks:'Напитки', add:'Добавить в корзину', cart:'Корзина', total:'Итого', checkout:'Оплата на кассе', currency:'₪'}}
}};

// ===== Drinks =====
const DRINKS = [
  {{id:'d1', price:9,  name:{{he:'מי םודה', ar:'מי םודה', en:'Mei Modaa', ru:'Мей Модаа'}}}},
  {{id:'d2', price:10, name:{{he:'קוקה קולה (רגילה / דיאט)', ar:'كوكاكولا (العادية / الدايت)', en:'Coca-Cola (Regular / Diet)', ru:'Кока-Кола (Обычная / Диетическая)'}}}},
  {{id:'d3', price:12, name:{{he:'שוופס (כל הטעמים)', ar:'شويبس (جميع الأنواع)', en:'Schweppes (All Flavors)', ru:'Швепс (Все вкусы)'}}}},
  {{id:'d4', price:12, name:{{he:'ספרינג', ar:'ספרינג', en:'Spring', ru:'Спринг'}}}},
  {{id:'d5', price:12, name:{{he:'מים של שוופס (כל הטעמים)', ar:'مياه شويبس الممتعة (جميع الأنواع)', en:'Schweppes Water (All Flavors)', ru:'Вода Швепс (Все вкусы)'}}}},
  {{id:'d6', price:9,  name:{{he:'עין גדי', ar:'عين جيدي', en:'Ein Gedi Water', ru:'Эйн Геди'}}}},
  {{id:'d7', price:12, name:{{he:'תפוזינה (כל הטעמים)', ar:'تפوزينا (جميع الأنواع)', en:'Tapuzina (All Flavors)', ru:'Тапузина (Все вкусы)'}}}},
  {{id:'d8', price:10, name:{{he:'ספרייט (כל הטעמים)', ar:'سبرايت (جميع الأنواع)', en:'Sprite (All Flavors)', ru:'Спрайт (Все вкусы)'}}}},
  {{id:'d9', price:10, name:{{he:'פנטה', ar:'فانتا', en:'Fanta', ru:'Фанта'}}}}
];

// ===== State =====
let lang = localStorage.getItem('lang') || 'he';
let cart = JSON.parse(localStorage.getItem('cartV2') || '{{}}');

// ===== Helpers =====
const $ = (s)=> document.querySelector(s);
function setDir(l) {{ document.documentElement.dir = (l==='ar'||l==='he')?'rtl':'ltr'; document.documentElement.lang=l; }}
function money(v) {{ return v + ' ' + T[lang].currency; }}
function items() {{ return Object.values(cart); }}
function saveCart() {{ localStorage.setItem('cartV2', JSON.stringify(cart)); }}
function addItem(id,name,price) {{ cart[id] = cart[id]? {{...cart[id], qty:cart[id].qty+1}} : {{id,name,price,qty:1}}; saveCart(); drawCart(); }}
function decItem(id) {{ if(!cart[id])return; cart[id].qty-=1; if(cart[id].qty<=0) delete cart[id]; saveCart(); drawCart(); }}
function rmItem(id) {{ delete cart[id]; saveCart(); drawCart(); }}

// ===== Language overlay =====
function openLang() {{ $('#langOverlay').classList.remove('hide'); }}
function closeLang() {{ $('#langOverlay').classList.add('hide'); }}
function setLang(l) {{
  lang = l; localStorage.setItem('lang', lang);
  closeLang(); translateUI(); drawDrinks(); drawCart();
}}

// ===== UI =====
function translateUI(){{
  // navbar
  const nav = $('#menuNav').querySelectorAll('a');
  const keys = ['home','menus','shop','events','contact'];
  nav.forEach((a,i)=> a.textContent = T[lang][keys[i]]);
  $('#reserveBtn').textContent = T[lang].reserve;
  $('#brandSmall').textContent = T[lang].brandSmall;
  $('#heroTitle').textContent = T[lang].heroTitle;
  $('#heroSubtitle').textContent = T[lang].heroSubtitle;
  $('#drinksTitle').textContent = T[lang].drinks;
  setDir(lang);
}}

function drawDrinks(){{
  const list = DRINKS.map(d => {{
    const nm = d.name[lang];
    return `<div class="card">
      <div style="font-weight:800;color:#214A47">${{nm}}</div>
      <div class="price">₪ ${{d.price}}</div>
      <div class="add"><button class="btn-gold" onclick="addItem('${{d.id}}','${{nm.replace(/'/g,"\\'")}}',${{d.price}})">🛒 ${{T[lang].add}}</button></div>
    </div>`;
  }}).join('');
  $('#drinks').innerHTML = list;
}}

function drawCart(){{
  const panel = $('#cartPanel');
  const count = items().reduce((s,p)=> s+p.qty, 0);
  $('#navCart').textContent = `${{T[lang].cart}} (${{count}})`;
  if(count===0) {{ panel.style.display='none'; return; }}
  let html = '';
  items().forEach(p=> {{
    html += `<div class="cart-row">
      <div><div style="font-weight:700">${{p.name}}</div><div class="tiny">₪ ${{p.price}}</div></div>
      <div class="qty">
        <button onclick="decItem('${{p.id}}')">-</button>
        <span>${{p.qty}}</span>
        <button onclick="addItem('${{p.id}}','${{p.name.replace(/'/g,"\\'")}}',${{p.price}})">+</button>
        <button onclick="rmItem('${{p.id}}')">✕</button>
      </div>
    </div>`;
  }});
  html += `<div style="display:flex;align-items:center;justify-content:space-between;margin-top:8px;font-weight:800">
    <span>${{T[lang].total}}</span><span>₪ ${{items().reduce((s,p)=>s+p.price*p.qty,0)}}</span></div>
    <button class="btn-gold" style="width:100%;margin-top:8px">${{T[lang].checkout}}</button>`;
  panel.innerHTML = html;
  panel.style.display = 'block';
}}

// Events
$('#cartBtn').addEventListener('click', ()=> {{ const p=$('#cartPanel'); p.style.display=(p.style.display==='block')?'none':'block'; }});

// Init
translateUI(); drawDrinks(); drawCart();
// Show language chooser only if not set previously
if(!localStorage.getItem('lang')) {{ openLang(); }} else {{ closeLang(); }}
</script>
</body>
</html>
"""

out_dir = "/mnt/data/royal_bull_style"
os.makedirs(out_dir, exist_ok=True)
index_path = os.path.join(out_dir, "index.html")
with open(index_path, "w", encoding="utf-8") as f:
    f.write(html)

zip_path = "/mnt/data/חומוס גרגירים.zip"
with zipfile.ZipFile(zip_path, "w", zipfile.ZIP_DEFLATED) as z:
    z.write(index_path, arcname="index.html")

zip_path
